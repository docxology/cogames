â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          DAF MODULAR CURSORRULES - COMPREHENSIVE RULESETS                     â•‘
â•‘                      FOR COGAMES SIDECAR FRAMEWORK                            â•‘
â•‘                        âœ… PRODUCTION READY                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š MODULAR CURSORRULES FILES CREATED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 00-ARCHITECTURE.md ................. Core principles & module organization
âœ… 01-OUTPUT.md ....................... Output management & organized results
âœ… 02-LOGGING.md ...................... Structured logging & metrics tracking
âœ… 03-TESTING.md ...................... Test infrastructure & best practices
âœ… 04-CODESTYLE.md .................... Python style & code standards
âœ… 05-INTEGRATION.md .................. CoGames integration patterns

ğŸ“– NAVIGATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… README.md .......................... How to use these cursorrules
âœ… INDEX.md ........................... Complete index & cross-references

ğŸ¯ QUICK START
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. New to DAF?
   â†’ Start with README.md
   â†’ Read 00-ARCHITECTURE.md
   â†’ Skim 01-OUTPUT.md and 02-LOGGING.md

2. Writing code?
   â†’ Follow 04-CODESTYLE.md
   â†’ Reference 00-ARCHITECTURE.md for structure
   â†’ Use 01-OUTPUT.md and 02-LOGGING.md patterns

3. Working on tests?
   â†’ Read 03-TESTING.md
   â†’ Follow 04-CODESTYLE.md style
   â†’ Reference 01-OUTPUT.md and 02-LOGGING.md

4. Integrating with CoGames?
   â†’ Read 05-INTEGRATION.md
   â†’ Follow 04-CODESTYLE.md
   â†’ Reference 00-ARCHITECTURE.md

ğŸ“‹ WHAT'S COVERED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Architecture & Design:
  âœ“ Core principles (non-duplicating, modular, organized)
  âœ“ Module organization and responsibilities
  âœ“ Operation flow patterns
  âœ“ Data flow through DAF
  âœ“ Configuration patterns
  âœ“ Session ID convention

Output Management:
  âœ“ OutputManager API and usage
  âœ“ Directory organization structure
  âœ“ Standardized JSON format
  âœ“ Session management utilities
  âœ“ Result export and backup

Logging Infrastructure:
  âœ“ DAFLogger API and patterns
  âœ“ Operation tracking with metrics
  âœ“ Console formatting (sections, tables)
  âœ“ Log level guidelines
  âœ“ Metrics collection and export

Testing:
  âœ“ TestRunner API
  âœ“ Report generation (JSON, HTML)
  âœ“ Test writing patterns
  âœ“ Test organization
  âœ“ Best practices

Code Standards:
  âœ“ Python version requirements
  âœ“ Imports organization
  âœ“ Type hints (required)
  âœ“ Docstring format (Google-style)
  âœ“ Naming conventions
  âœ“ Code style and formatting
  âœ“ Error handling
  âœ“ Comments and documentation
  âœ“ Linting (ruff)

CoGames Integration:
  âœ“ Policy loading (PolicySpec)
  âœ“ Mission configuration
  âœ“ Environment interaction
  âœ“ Training and evaluation patterns
  âœ“ No-duplication rules
  âœ“ Device management
  âœ“ Version compatibility

ğŸ” HOW TO USE IN CURSOR/IDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Single File:
  @.cursorrules-output        # Load output management rules
  @.cursorrules-logging       # Load logging rules
  @.cursorrules-testing       # Load testing rules

Multiple Files:
  Include references in main .cursorrules file:
  See daf/.cursorrules/README.md for modular rules

In Chat:
  "Review this per @04-CODESTYLE.md"
  "Add logging following @02-LOGGING.md patterns"
  "Run tests following @03-TESTING.md"

ğŸ“ DIRECTORY STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

daf/.cursorrules/
â”œâ”€â”€ README.md                  â† Navigation guide
â”œâ”€â”€ INDEX.md                   â† Complete index & cross-references
â”œâ”€â”€ 00-START-HERE.txt          â† This file
â”œâ”€â”€ 00-ARCHITECTURE.md         â† Core principles (15 min)
â”œâ”€â”€ 01-OUTPUT.md               â† Output management (12 min)
â”œâ”€â”€ 02-LOGGING.md              â† Logging infrastructure (12 min)
â”œâ”€â”€ 03-TESTING.md              â† Testing framework (12 min)
â”œâ”€â”€ 04-CODESTYLE.md            â† Code style guide (15 min)
â””â”€â”€ 05-INTEGRATION.md          â† CoGames integration (12 min)

ğŸ’¡ KEY PATTERNS AT A GLANCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Output Management:
  output_mgr = get_output_manager()
  output_mgr.save_json_results(data, operation="sweep", filename="results")
  output_mgr.save_session_metadata()

Logging:
  logger = create_daf_logger("operation_name")
  with logger.track_operation("task", metadata={...}):
      logger.info("Doing work...")
  logger.print_metrics_summary()

Testing:
  runner = TestRunner(output_base_dir="./daf_output")
  runner.run_test_batch([...])
  runner.save_test_report()
  runner.print_test_summary()

Code Style:
  def function_name(param: str) -> Path:
      """Google-style docstring."""
      return Path(param)

Integration:
  from mettagrid.policy.policy import PolicySpec
  spec = PolicySpec(class_path="lstm")
  policy = spec.load()

âœ… QUALITY STANDARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Each file includes:
  âœ“ Clear purpose and scope
  âœ“ Well-organized sections
  âœ“ Code examples for patterns
  âœ“ Best practices (DO âœ“ / DON'T âœ—)
  âœ“ Troubleshooting sections
  âœ“ Cross-references
  âœ“ Status and update date

Total:
  âœ“ 8 comprehensive files
  âœ“ 78+ sections
  âœ“ 120+ code examples
  âœ“ Complete architecture documentation
  âœ“ Production-ready rules

ğŸš€ GETTING STARTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Understand Architecture
  â†’ Read: 00-ARCHITECTURE.md
  â†’ Time: 15 minutes
  â†’ Focus: Principles, module organization, patterns

Step 2: Learn Core Patterns
  â†’ Read: 01-OUTPUT.md, 02-LOGGING.md
  â†’ Time: 25 minutes
  â†’ Focus: APIs, usage patterns, best practices

Step 3: Learn Standards
  â†’ Read: 04-CODESTYLE.md
  â†’ Time: 15 minutes
  â†’ Focus: Python style, naming, types, docstrings

Step 4: Work with Tests
  â†’ Read: 03-TESTING.md
  â†’ Time: 12 minutes
  â†’ Focus: Writing tests, running tests, reporting

Step 5: Integrate with CoGames
  â†’ Read: 05-INTEGRATION.md
  â†’ Time: 12 minutes
  â†’ Focus: Policies, missions, no-duplication

ğŸ“š RECOMMENDED READING ORDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

First Time User:
  1. README.md (5 min)
  2. 00-ARCHITECTURE.md sections 1-2 (8 min)
  3. 01-OUTPUT.md "Usage Patterns" (5 min)
  4. 02-LOGGING.md "Logging Patterns" (5 min)
  Total: 23 minutes

Adding Features:
  1. 00-ARCHITECTURE.md (full read, 15 min)
  2. 01-OUTPUT.md (full read, 12 min)
  3. 02-LOGGING.md (full read, 12 min)
  4. 04-CODESTYLE.md (full read, 15 min)
  5. 03-TESTING.md (full read, 12 min)
  Total: 66 minutes

Complete Mastery:
  â†’ Read all files thoroughly
  â†’ Study code examples
  â†’ Review architecture
  â†’ Reference while developing

ğŸ”— CROSS-REFERENCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

00-ARCHITECTURE.md â†’ All other files
01-OUTPUT.md ------â†’ 00-ARCHITECTURE, 02-LOGGING, 04-CODESTYLE
02-LOGGING.md -----â†’ 00-ARCHITECTURE, 01-OUTPUT, 04-CODESTYLE
03-TESTING.md -----â†’ 01-OUTPUT, 04-CODESTYLE, 00-ARCHITECTURE
04-CODESTYLE.md ---â†’ All files (foundational)
05-INTEGRATION.md -â†’ 00-ARCHITECTURE, 04-CODESTYLE

âœ¨ HIGHLIGHTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Architecture:
  â€¢ Non-duplicating wrapper pattern
  â€¢ Modular organization
  â€¢ Unified output structure
  â€¢ Structured logging built-in
  â€¢ Session-based organization (YYYYMMDD_HHMMSS)

Output Management:
  â€¢ Organized by operation type
  â€¢ Standardized JSON format
  â€¢ Session utilities (find, export, cleanup)
  â€¢ Automatic directory creation

Logging:
  â€¢ Automatic operation tracking
  â€¢ Performance metrics collection
  â€¢ Rich console formatting
  â€¢ Context manager support

Testing:
  â€¢ Unified test runner
  â€¢ Automatic result organization
  â€¢ HTML report generation
  â€¢ Pass rate statistics

Integration:
  â€¢ PolicySpec for policy loading
  â€¢ No CoGames duplication
  â€¢ Clear integration points
  â€¢ Version compatibility documented

ğŸ“ QUICK ANSWERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Q: "How do I save results?"
A: See 01-OUTPUT.md "Saving Results" section

Q: "How do I log operations?"
A: See 02-LOGGING.md "Logging Patterns" section

Q: "What naming convention should I use?"
A: See 04-CODESTYLE.md "Naming Conventions" section

Q: "How do I write tests?"
A: See 03-TESTING.md "Writing Tests" section

Q: "How do I integrate with CoGames?"
A: See 05-INTEGRATION.md "Policy Loading" section

Q: "What's the project structure?"
A: See 00-ARCHITECTURE.md "Module Organization" section

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STATUS: âœ… PRODUCTION READY
COVERAGE: Complete
QUALITY: Professional
MAINTENANCE: Versioned

Date: November 21, 2024
Version: 1.0

Start with: README.md
Questions: See INDEX.md
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
